<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>TonCrimeGame â€“ Genel Ev</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{margin:0;background:#000;color:#fff;font-family:Arial}

/* ===== TOPBAR ===== */
.topbar{
position:fixed;top:0;left:0;right:0;height:60px;
background:#050505;display:flex;align-items:center;
padding:0 12px;border-bottom:1px solid #222;z-index:1000;
}
.menu-btn{cursor:pointer;margin-right:10px}
.logo{color:#f90;font-weight:bold;min-width:130px}
.xp-box{flex:1;padding:0 10px}
.xp-bar{height:8px;background:#222;border-radius:10px;overflow:hidden}
.xp-fill{height:100%;width:0%;background:linear-gradient(90deg,#f90,#ff0);transition:.4s}
.energy-bar{height:6px;background:#111;border-radius:10px;margin-top:3px;overflow:hidden}
.energy-fill{height:100%;width:0%;background:linear-gradient(90deg,#0ff,#0f0);transition:.4s}
.stats{text-align:right;font-size:13px}

/* ===== MENU ===== */
.side-menu{
position:fixed;top:60px;left:-240px;width:240px;height:100%;
background:#0a0a0a;transition:.3s;z-index:999;
}
.side-menu.open{left:0}
.side-menu a{display:block;padding:14px;color:#fff;text-decoration:none;border-bottom:1px solid #222}
.side-menu a:hover{background:#111}
#overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.4);z-index:998}

/* ===== CONTENT ===== */
.content{padding:90px 20px}
.section-title{margin-top:20px;font-size:18px;color:#f90}
.card{
background:#111;
padding:10px;
border-radius:10px;
margin-bottom:8px;
border:1px solid #222;
}
button{
width:100%;
padding:10px;
margin-top:5px;
border:none;
border-radius:8px;
font-weight:bold;
cursor:pointer;
background:#f90;
}
</style>
</head>

<body>

<div class="topbar">
<div class="menu-btn" onclick="toggleMenu()">â˜°</div>
<div class="logo">ğŸ”¥ YeraltÄ± Åehri</div>

<div class="xp-box">
<div style="font-size:11px">Level <span id="lvl"></span></div>
<div class="xp-bar"><div class="xp-fill" id="xpFill"></div></div>
</div>

<div class="stats">
âš¡ <span id="energy"></span>
<div class="energy-bar"><div class="energy-fill" id="energyFill"></div></div>
ğŸ’° <span id="yton"></span>
</div>
</div>

<div id="overlay" onclick="closeMenu()"></div>
<div class="side-menu" id="menu">
<a href="index.html">ğŸ  Ana MenÃ¼</a>
<a href="missions.html">ğŸ§¾ GÃ¶revler</a>
<a href="pvp.html">âš”ï¸ PvP</a>
<a href="nightlife.html">ğŸŒƒ Gece HayatÄ±</a>
<a href="weapons.html">ğŸ”« Silah TÃ¼ccarÄ±</a>
<a href="hospital.html">ğŸ¥ Hastane</a>
</div>

<div class="content" id="content"></div>

<script>

/* ===== CORE PLAYER ===== */
const MAX_ENERGY=100;
const ENERGY_REGEN=60;

function getPlayer(){return JSON.parse(localStorage.getItem("player"))}
function setPlayer(p){localStorage.setItem("player",JSON.stringify(p))}

let player=getPlayer();
if(!player){
player={
level:1,xp:0,xpNext:100,
energy:80,yton:120,premium:false,
hospitalUntil:0,lastEnergyTick:Date.now(),
}
setPlayer(player)
}

/* ===== ENERGY REGEN ===== */
function regen(){
let p=getPlayer()
if(p.energy>=MAX_ENERGY)return
let now=Date.now()
let sec=Math.floor((now-p.lastEnergyTick)/1000)
if(sec>=ENERGY_REGEN){
let gain=Math.floor(sec/ENERGY_REGEN)
p.energy=Math.min(MAX_ENERGY,p.energy+gain)
p.lastEnergyTick+=gain*ENERGY_REGEN*1000
setPlayer(p)
}
}

/* ===== UI ===== */
function updateUI(){
let p=getPlayer()
document.getElementById("lvl").innerText=p.level
document.getElementById("energy").innerText=p.energy
document.getElementById("yton").innerText=p.yton
document.getElementById("xpFill").style.width=(p.xp/p.xpNext*100)+"%"
document.getElementById("energyFill").style.width=(p.energy/100*100)+"%"
}
setInterval(()=>{regen();updateUI()},1000)
updateUI()

/* ===== MENU ===== */
function toggleMenu(){
document.getElementById("menu").classList.toggle("open")
document.getElementById("overlay").style.display="block"
}
function closeMenu(){
document.getElementById("menu").classList.remove("open")
document.getElementById("overlay").style.display="none"
}

/* ===== LISTS ===== */
const women=[
"Mia Khalite","Lana Rains","Sasha Noir","Lola Velvet","Kira Moon",
"Vera Blaze","Nina Fox","Bella Storm","Ruby Kiss","Alina Frost",
"Eva Lux","Maya Sin","Daisy Night","Lexa Flame","Rina Dark",
"Tina Glow","Katy Venom","Nora Silk","Ivy Black","Mila Rose",
"Sienna Red","Aria Vice","Nika Poison","Lily Smoke","Zara Heat",
"Vixen Blue","Kora Night","Luna Vice","Tara Sin","Jade Velvet",
"Elena Ice","Roxy Hell","Vera Pink","Nadia Lux","Mona Kiss"
];

const men=[
"Johnny Steel","Max Power","Leo Storm","Rick Blaze","Tony Dark",
"Axel Noir","Chris Venom","Duke Stone","Mark Inferno","Ivan Rush"
];

const twins=[
"Scarlet & Violet","Luna & Nova","Ivy & Lily","Rose & Ruby","Mia & Mila"
];

/* ===== RENDER ===== */
function render(){
let p=getPlayer()
let box=document.getElementById("content")

if(Date.now()<p.hospitalUntil){
box.innerHTML="<h2>ğŸ¥ Hastanedesin</h2><p>Ã‡Ä±kmadan hizmet alamazsÄ±n.</p>"
return
}

box.innerHTML=""

box.innerHTML+="<div class='section-title'>ğŸ’‹ KadÄ±nlar</div>"
women.forEach((n,i)=>{
box.innerHTML+=`
<div class="card">
${n} â€“ ğŸ’° ${30+i}
<button onclick="service(${30+i})">Hizmet Al</button>
</div>`
})

box.innerHTML+="<div class='section-title'>ğŸ”¥ Erkekler</div>"
men.forEach((n,i)=>{
box.innerHTML+=`
<div class="card">
${n} â€“ ğŸ’° ${60+i*2}
<button onclick="service(${60+i*2})">Hizmet Al</button>
</div>`
})

box.innerHTML+="<div class='section-title'>ğŸ‘¯ Ä°kizler</div>"
twins.forEach((n,i)=>{
box.innerHTML+=`
<div class="card">
${n} â€“ ğŸ’° ${120+i*5}
<button onclick="service(${120+i*5})">Hizmet Al</button>
</div>`
})
}

/* ===== SERVICE ===== */
function service(price){
let p=getPlayer()

if(p.energy<5){
alert("Enerji yetersiz")
return
}

if(p.yton<price){
alert("YTon yetersiz")
return
}

p.energy-=5
p.yton-=price
p.xp+=10

// %15 hastalÄ±k riski
if(Math.random()<0.15){
p.hospitalUntil=Date.now()+600000
alert("âš ï¸ HastalandÄ±n! Hastaneye dÃ¼ÅŸtÃ¼n.")
}else{
alert("ğŸ”¥ EÄŸlence baÅŸarÄ±lÄ±!")
}

setPlayer(p)
updateUI()
render()
}

render()

</script>
</body>
</html>
