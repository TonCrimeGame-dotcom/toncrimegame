<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TonCrime Nightclub</title>

<style>
body{
    margin:0;
    background:black;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    overflow:hidden;
    font-family:Arial;
}

.app{
    width:390px;
    height:690px;
    position:relative;
    overflow:hidden;
}

/* BACKGROUND */

.bg{
    position:absolute;
    width:100%;
    height:100%;
    object-fit:cover;
}

/* CLOSED BOOK (MASA ÃœSTÃœ) */

.book-closed{
    position:absolute;
    width:300px;
    top:65%;
    left:50%;
    transform:translate(-50%,-50%) rotateX(12deg) scale(0.95);
    cursor:pointer;
    transition:0.6s;
    box-shadow:
      0 35px 45px rgba(0,0,0,0.7),
      0 15px 25px rgba(0,0,0,0.6);
}

/* OPEN BOOK */

.book-open{
    position:absolute;
    width:320px;
    top:60%;
    left:50%;
    transform:translate(-50%,-50%) rotateX(12deg) scale(0.8);
    opacity:0;
    transition:0.6s;
    box-shadow:
      0 40px 60px rgba(0,0,0,0.8),
      0 20px 30px rgba(0,0,0,0.7);
}

.book-open.active{
    opacity:1;
    transform:translate(-50%,-50%) rotateX(0deg) scale(1);
}

.hidden{ display:none; }

/* MENU OVERLAY */

.menu{
    position:absolute;
    top:200px;
    left:75px;
    width:240px;
    color:gold;
    font-weight:bold;
    opacity:0;
    transition:0.4s;
}

.menu.active{
    opacity:1;
}

.item{
    display:flex;
    justify-content:space-between;
    margin:12px 0;
    cursor:pointer;
    transition:0.2s;
}

.item:hover{
    transform:scale(1.05);
}

/* NAV */

.nav{
    position:absolute;
    bottom:25px;
    width:100%;
    display:flex;
    justify-content:space-between;
    padding:0 50px;
}

.nav button{
    background:gold;
    border:none;
    padding:6px 14px;
    font-weight:bold;
    border-radius:6px;
    cursor:pointer;
}

/* STATUS */

.status{
    position:absolute;
    top:10px;
    left:10px;
    color:white;
    font-size:12px;
}

/* BUY EFFECT */

.buy{
    position:absolute;
    top:45%;
    left:50%;
    transform:translate(-50%,-50%);
    color:gold;
    font-size:18px;
    opacity:0;
}

.buy.show{
    animation:buyAnim 1s forwards;
}

@keyframes buyAnim{
    0%{opacity:0; transform:translate(-50%,-50%) scale(0.6);}
    50%{opacity:1; transform:translate(-50%,-60%) scale(1.2);}
    100%{opacity:0; transform:translate(-50%,-70%) scale(1);}
}
</style>
</head>
<body>

<div class="app">

<img src="nightclub_indoor.jpg" class="bg">

<img src="nightclub_book_closed.png" class="book-closed" id="closed">
<img src="nightclub_book_open.png" class="book-open" id="open">

<div class="menu" id="menu"></div>

<div class="nav hidden" id="nav">
<button onclick="prevPage()">â—€</button>
<button onclick="nextPage()">â–¶</button>
</div>

<div class="status" id="status"></div>
<div class="buy" id="buyEffect"></div>

</div>

<script>

/* PLAYER */

let player={
  energy:0,
  risk:0,
  workers:0,
  lastType:null
};

/* PRODUCTS */

const pages=[
  [
    {name:"RakÄ±",energy:15,type:"drink"},
    {name:"Vodka",energy:20,type:"drink"},
    {name:"Whiskey",energy:25,type:"drink"},
    {name:"Beer",energy:10,type:"drink"}
  ],
  [
    {name:"Champagne",energy:30,type:"drink"},
    {name:"Tequila",energy:22,type:"drink"},
    {name:"Gin",energy:18,type:"drink"},
    {name:"Rum",energy:20,type:"drink"}
  ],
  [
    {name:"Patates",energy:8,type:"food"},
    {name:"Ã‡erez",energy:6,type:"food"},
    {name:"Meyve TabaÄŸÄ±",energy:12,type:"food"}
  ]
];

let currentPage=0;

/* OPEN */

const closed=document.getElementById("closed");
const open=document.getElementById("open");
const menu=document.getElementById("menu");
const nav=document.getElementById("nav");
const status=document.getElementById("status");
const buyEffect=document.getElementById("buyEffect");

closed.onclick=()=>{
  closed.classList.add("hidden");
  open.classList.add("active");
  menu.classList.add("active");
  nav.classList.remove("hidden");
  render();
};

/* RENDER */

function render(){
  menu.innerHTML="";
  pages[currentPage].forEach(item=>{
    const div=document.createElement("div");
    div.className="item";
    div.innerHTML=`<span>${item.name}</span><span>${item.energy}âš¡</span>`;
    div.onclick=()=>buy(item);
    menu.appendChild(div);
  });
}

/* NAV */

function nextPage(){
  if(currentPage<pages.length-1){
    currentPage++;
    render();
  }
}

function prevPage(){
  if(currentPage>0){
    currentPage--;
    render();
  }
}

/* BUY LOGIC */

function buy(item){

  player.energy+=item.energy;

  if(item.type==="drink"){
    player.risk+=45;
  }

  if(item.type==="food" && player.lastType==="drink"){
    if(Math.random()<0.30){
      player.workers++;
    }
  }

  player.lastType=item.type;

  buyEffect.innerText=item.name+" AlÄ±ndÄ±!";
  buyEffect.classList.add("show");
  setTimeout(()=>buyEffect.classList.remove("show"),1000);

  update();
}

function update(){
  status.innerHTML=`
  âš¡ Energy: ${player.energy}<br>
  âš  Risk: ${player.risk}<br>
  ðŸ‘© Worker: ${player.workers}
  `;
}

</script>

</body>
</html>
