<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TonCrime CoffeeShop</title>

<style>
body{
    margin:0;
    background:black;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    overflow:hidden;
    font-family:Arial;
}

.app{
    width:390px;
    height:690px;
    position:relative;
    overflow:hidden;
}

.bg{
    position:absolute;
    width:100%;
    height:100%;
    object-fit:cover;
}

.book-closed{
    position:absolute;
    width:320px;
    left:50%;
    top:50%;
    transform:translate(-50%,-50%);
    cursor:pointer;
    transition:0.4s;
}

.book-open{
    position:absolute;
    width:330px;
    left:50%;
    top:50%;
    transform:translate(-50%,-50%) scale(0.9);
    opacity:0;
    transition:0.6s;
}

.book-open.active{
    opacity:1;
    transform:translate(-50%,-50%) scale(1);
}

.hidden{ display:none; }

.menu{
    position:absolute;
    top:130px;
    left:65px;
    width:220px;
    color:lime;
    opacity:0;
    transition:0.4s;
}

.menu.active{
    opacity:1;
}

.item{
    display:flex;
    justify-content:space-between;
    margin:14px 0;
    cursor:pointer;
    transition:0.2s;
}

.item:hover{
    transform:scale(1.06);
}

.nav{
    position:absolute;
    bottom:20px;
    width:100%;
    display:flex;
    justify-content:space-between;
    padding:0 40px;
}

.nav button{
    background:lime;
    border:none;
    padding:6px 14px;
    font-weight:bold;
    border-radius:6px;
    cursor:pointer;
}

.status{
    position:absolute;
    top:10px;
    left:10px;
    color:white;
    font-size:12px;
}

.buy{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    color:lime;
    font-size:20px;
    opacity:0;
}

.buy.show{
    animation:buyAnim 1s forwards;
}

@keyframes buyAnim{
    0%{opacity:0; transform:translate(-50%,-50%) scale(0.5);}
    50%{opacity:1; transform:translate(-50%,-60%) scale(1.2);}
    100%{opacity:0; transform:translate(-50%,-70%) scale(1);}
}
</style>
</head>
<body>

<div class="app">

<img src="coffeeshop_indoor.jpg" class="bg">

<img src="coffeeshop_book_closed.png" class="book-closed" id="bookClosed">
<img src="coffeeshop_book_open.png" class="book-open" id="bookOpen">

<div class="menu" id="menu"></div>

<div class="nav hidden" id="nav">
<button onclick="prevPage()">â—€</button>
<button onclick="nextPage()">â–¶</button>
</div>

<div class="status" id="status"></div>
<div class="buy" id="buyEffect"></div>

</div>

<script>

/* PLAYER STATE */

let player={
  energy:0,
  addiction:0,
  risk:0,
  respect:0,
  inventory:[],
  lastProduct:null
};

/* PRODUCTS */

const pages=[
  [
    {name:"Premium Weed",energy:25,addiction:20,risk:10},
    {name:"Hash",energy:20,addiction:18,risk:8},
    {name:"Edible",energy:30,addiction:25,risk:12},
    {name:"Sativa",energy:22,addiction:15,risk:6}
  ],
  [
    {name:"Hybrid",energy:28,addiction:23,risk:11},
    {name:"CBD",energy:15,addiction:5,risk:0},
    {name:"Oil",energy:35,addiction:30,risk:15},
    {name:"MoonRock",energy:40,addiction:35,risk:20}
  ],
  [
    {name:"Energy Snack",energy:10,addiction:5,risk:0},
    {name:"Choco Bar",energy:12,addiction:7,risk:0},
    {name:"Special Mix",energy:45,addiction:40,risk:25}
  ]
];

let currentPage=0;

/* OPEN BOOK */

const closed=document.getElementById("bookClosed");
const openBook=document.getElementById("bookOpen");
const menu=document.getElementById("menu");
const nav=document.getElementById("nav");
const status=document.getElementById("status");
const buyEffect=document.getElementById("buyEffect");

closed.addEventListener("click",()=>{
  closed.classList.add("hidden");
  openBook.classList.add("active");
  menu.classList.add("active");
  nav.classList.remove("hidden");
  renderPage();
});

/* PAGE RENDER */

function renderPage(){
  menu.innerHTML="";
  pages[currentPage].forEach(item=>{
    const div=document.createElement("div");
    div.className="item";
    div.innerHTML=`
      <span>${item.name}</span>
      <span>${item.energy}âš¡</span>
    `;
    div.onclick=()=>useItem(item);
    menu.appendChild(div);
  });
}

/* NAV */

function nextPage(){
  if(currentPage<pages.length-1){
    currentPage++;
    renderPage();
  }
}

function prevPage(){
  if(currentPage>0){
    currentPage--;
    renderPage();
  }
}

/* GAME LOGIC */

function useItem(item){

  player.energy+=item.energy;
  player.addiction+=item.addiction;
  player.risk+=item.risk;

  if(player.addiction>50){
    player.risk+=20;
  }

  if(player.lastProduct && Math.random()<0.30){
    player.inventory.push("coffeeshop_worker");
  }

  player.lastProduct=item.name;

  buyEffect.innerText=item.name+" KullanÄ±ldÄ±!";
  buyEffect.classList.add("show");
  setTimeout(()=>buyEffect.classList.remove("show"),1000);

  updateStatus();
}

function updateStatus(){
  status.innerHTML=`
  âš¡ Energy: ${player.energy}<br>
  â˜£ Addiction: ${player.addiction}<br>
  âš  Risk: ${player.risk}<br>
  ðŸ‘© Worker: ${player.inventory.length}
  `;
}

</script>

</body>
</html>
