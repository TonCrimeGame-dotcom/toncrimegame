<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TonCrime</title>
<link rel="stylesheet" href="global.css">
</head>
<body>

<div class="app">

  <!-- BACKGROUND -->
  <img src="background.jpg" class="bg">

  <!-- LOGO -->
  <img src="logo.png" class="logo">

  <!-- ================= HUD ================= -->
  <div class="hud">

    <div id="energyText">⚡ 60/100</div>
    <div class="bar">
      <div class="fill" id="energyBar" style="width:60%"></div>
    </div>

    <div id="xpText">XP 0/1000 (Lv 1)</div>
    <div class="bar">
      <div class="fill" id="xpBar" style="width:0%"></div>
    </div>

    <div class="yton-row">
      <img src="yton.png">
      <span id="ytonText">1000</span>
    </div>

  </div>

  <!-- ================= SLIDE MENU ================= -->
  <div class="menu-wrapper">
    <div class="menu-slider">

      <div class="menu-card" onclick="go('missions.html')">
        <img src="missions.jpg">
        <span>Görevler</span>
      </div>

      <div class="menu-card" onclick="go('pvp.html')">
        <img src="pvp.jpg">
        <span>PvP</span>
      </div>

      <div class="menu-card" onclick="go('nightclub.html')">
        <img src="nightclub.jpg">
        <span>Gece Kulübü</span>
      </div>

      <div class="menu-card" onclick="go('coffeeshop.html')">
        <img src="coffeeshop.jpg">
        <span>CoffeeShop</span>
      </div>

      <div class="menu-card" onclick="go('xxx.html')">
        <img src="xxx.jpg">
        <span>Genel Ev</span>
      </div>

      <div class="menu-card" onclick="go('weapons.html')">
        <img src="weapons.jpg">
        <span>Silah Tüccarı</span>
      </div>

    </div>
  </div>

  <!-- ================= CHAT ================= -->
  <div class="chat">
    <input type="text" id="chatInput" placeholder="Mesaj...">
    <button onclick="sendMessage()">Gönder</button>
  </div>

</div>

<script>

/* ================= PLAYER STORAGE ================= */

let player = JSON.parse(localStorage.getItem("player")) || {
  energy: 60,
  maxEnergy: 100,
  xp: 0,
  xpMax: 1000,
  level: 1,
  yton: 1000
};

function savePlayer(){
  localStorage.setItem("player", JSON.stringify(player));
}

function updateHUD(){

  document.getElementById("energyText").textContent =
    "⚡ " + player.energy + "/" + player.maxEnergy;

  document.getElementById("energyBar").style.width =
    (player.energy / player.maxEnergy * 100) + "%";

  document.getElementById("xpText").textContent =
    "XP " + player.xp + "/" + player.xpMax + " (Lv " + player.level + ")";

  document.getElementById("xpBar").style.width =
    (player.xp / player.xpMax * 100) + "%";

  document.getElementById("ytonText").textContent =
    player.yton;
}

/* ================= CHAT ================= */

let chatData = JSON.parse(localStorage.getItem("chat")) || [];

function saveChat(){
  localStorage.setItem("chat", JSON.stringify(chatData));
}

function sendMessage(){
  const input = document.getElementById("chatInput");
  const msg = input.value.trim();
  if(!msg) return;

  chatData.push(msg);
  saveChat();
  input.value="";
}

/* ================= NAV ================= */

function go(page){
  window.location.href = page;
}

/* ================= INIT ================= */

document.addEventListener("DOMContentLoaded",()=>{
  updateHUD();
});

</script>

</body>
</html>
