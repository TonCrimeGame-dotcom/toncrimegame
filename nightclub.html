<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TonCrime NightClub</title>

<style>
body{
    margin:0;
    background:black;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    overflow:hidden;
    font-family:Arial;
}

/* TELEGRAM ORANI */
.app{
    width:390px;
    height:690px;
    position:relative;
    overflow:hidden;
}

/* BACKGROUND */
.bg{
    position:absolute;
    width:100%;
    height:100%;
    object-fit:cover;
}

/* CLOSED BOOK */
.book-closed{
    position:absolute;
    width:320px;
    left:50%;
    top:50%;
    transform:translate(-50%,-50%);
    cursor:pointer;
    transition:0.4s;
}

/* OPEN BOOK */
.book-open{
    position:absolute;
    width:330px;
    left:50%;
    top:50%;
    transform:translate(-50%,-50%) scale(0.9);
    opacity:0;
    transition:0.6s;
}

/* OPEN STATE */
.book-open.active{
    opacity:1;
    transform:translate(-50%,-50%) scale(1);
}

.hidden{ display:none; }

/* MENU CONTENT */
.menu{
    position:absolute;
    top:130px;
    left:65px;
    width:220px;
    color:gold;
    opacity:0;
    transition:0.4s;
}

.menu.active{
    opacity:1;
}

.item{
    display:flex;
    justify-content:space-between;
    margin:14px 0;
    cursor:pointer;
    transition:0.2s;
}

.item:hover{
    transform:scale(1.06);
}

.coin{
    width:16px;
    margin-right:4px;
    animation:glow 1.2s infinite alternate;
}

@keyframes glow{
    from{filter:drop-shadow(0 0 3px gold);}
    to{filter:drop-shadow(0 0 12px gold);}
}

/* NAV BUTTONS */
.nav{
    position:absolute;
    bottom:20px;
    width:100%;
    display:flex;
    justify-content:space-between;
    padding:0 40px;
}

.nav button{
    background:gold;
    border:none;
    padding:6px 14px;
    font-weight:bold;
    border-radius:6px;
    cursor:pointer;
}

/* STATUS PANEL */
.status{
    position:absolute;
    top:10px;
    left:10px;
    color:white;
    font-size:12px;
}

/* BUY EFFECT */
.buy{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    color:gold;
    font-size:20px;
    opacity:0;
}

.buy.show{
    animation:buyAnim 1s forwards;
}

@keyframes buyAnim{
    0%{opacity:0; transform:translate(-50%,-50%) scale(0.5);}
    50%{opacity:1; transform:translate(-50%,-60%) scale(1.2);}
    100%{opacity:0; transform:translate(-50%,-70%) scale(1);}
}
</style>
</head>
<body>

<div class="app">

<img src="nightclub_indoor.jpg" class="bg">

<img src="nightclub_book_closed.png" class="book-closed" id="bookClosed">
<img src="nightclub_book_open.png" class="book-open" id="bookOpen">

<div class="menu" id="menu"></div>

<div class="nav hidden" id="nav">
<button onclick="prevPage()">â—€</button>
<button onclick="nextPage()">â–¶</button>
</div>

<div class="status" id="status"></div>
<div class="buy" id="buyEffect"></div>

</div>

<script>

/* =======================
   PLAYER STATE
======================= */

let player={
  energy:0,
  risk:0,
  charm:0,
  partyMeter:0,
  inventory:[],
  lastDrink:false,
  lastFood:false
};

/* =======================
   ITEMS
======================= */

const pages=[
  [
    {name:"RakÄ±",energy:30,risk:45,type:"drink"},
    {name:"Vodka",energy:25,risk:40,type:"drink"},
    {name:"Whiskey",energy:28,risk:42,type:"drink"},
    {name:"Tequila",energy:26,risk:38,type:"drink"},
    {name:"Gin",energy:22,risk:35,type:"drink"},
    {name:"Bira",energy:15,risk:20,type:"drink"}
  ],
  [
    {name:"Champagne",energy:20,risk:25,type:"drink"},
    {name:"Cognac",energy:32,risk:48,type:"drink"},
    {name:"VIP Bottle",energy:50,risk:70,type:"drink"},
    {name:"Energy Shot",energy:45,risk:60,type:"drink"}
  ],
  [
    {name:"Patates",energy:15,risk:0,type:"food"},
    {name:"Meyve TabaÄŸÄ±",energy:20,risk:0,type:"food"},
    {name:"Ã‡erez",energy:10,risk:0,type:"food"},
    {name:"Nachos",energy:18,risk:0,type:"food"}
  ]
];

let currentPage=0;

/* =======================
   BOOK OPEN
======================= */

const closed=document.getElementById("bookClosed");
const openBook=document.getElementById("bookOpen");
const menu=document.getElementById("menu");
const nav=document.getElementById("nav");
const status=document.getElementById("status");
const buyEffect=document.getElementById("buyEffect");

closed.addEventListener("click",()=>{
  closed.classList.add("hidden");
  openBook.classList.add("active");
  menu.classList.add("active");
  nav.classList.remove("hidden");
  renderPage();
});

/* =======================
   PAGE RENDER
======================= */

function renderPage(){
  menu.innerHTML="";
  pages[currentPage].forEach(item=>{
    const div=document.createElement("div");
    div.className="item";
    div.innerHTML=`
      <span>${item.name}</span>
      <span>${item.energy}âš¡</span>
    `;
    div.onclick=()=>useItem(item);
    menu.appendChild(div);
  });
}

/* =======================
   NAVIGATION
======================= */

function nextPage(){
  if(currentPage<pages.length-1){
    currentPage++;
    renderPage();
  }
}

function prevPage(){
  if(currentPage>0){
    currentPage--;
    renderPage();
  }
}

/* =======================
   GAME LOGIC
======================= */

function useItem(item){

  player.energy+=item.energy;
  player.risk+=item.risk;
  player.partyMeter+=10;

  if(item.type==="drink") player.lastDrink=true;
  if(item.type==="food") player.lastFood=true;

  checkCombo();
  checkRisk();
  checkParty();

  buyEffect.innerText=item.name+" AlÄ±ndÄ±!";
  buyEffect.classList.add("show");
  setTimeout(()=>buyEffect.classList.remove("show"),1000);

  updateStatus();
}

function checkCombo(){
  if(player.lastDrink && player.lastFood){
    player.energy+=10;
    player.charm+=30;
    if(Math.random()<0.30){
      player.inventory.push("nightclub_worker");
    }
    player.lastDrink=false;
    player.lastFood=false;
  }
}

function checkRisk(){
  if(player.risk>45){
    if(Math.random()<0.25){
      alert("PvP saldÄ±rÄ±sÄ±na uÄŸradÄ±n!");
    }
  }
}

function checkParty(){
  if(player.partyMeter>=100){
    player.partyMeter=0;
    player.risk-=20;
    alert("VIP PARTY EVENT!");
  }
}

function updateStatus(){
  status.innerHTML=`
  âš¡ Energy: ${player.energy}<br>
  âš  Risk: ${player.risk}<br>
  ðŸŽ‰ Party: ${player.partyMeter}<br>
  ðŸ‘© Worker: ${player.inventory.length}
  `;
}

</script>

</body>
</html>
