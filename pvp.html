<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>PvP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
    body {
      background:#0b0b0b;
      color:#fff;
      font-family:Arial;
      text-align:center;
      padding:20px;
    }
    .box {
      max-width:500px;
      margin:auto;
      background:#111;
      padding:20px;
      border-radius:10px;
    }
    button {
      width:100%;
      padding:12px;
      margin:6px 0;
      font-size:16px;
      background:#222;
      color:#fff;
      border:1px solid #444;
      border-radius:6px;
    }
    button:hover {
      background:#333;
    }
    .error {
      color:#ff4d4d;
      font-weight:bold;
    }
  </style>
</head>

<body>

<h2>‚öîÔ∏è PvP</h2>

<div id="content" class="box">
  Y√ºkleniyor...
</div>

<script>
/* =======================
   SUPABASE AYARLARI
   ======================= */
const SUPABASE_URL = "https://hwhscuyudwphnsipibpy.supabase.co";
const SUPABASE_KEY = "BURAYA_ANON_PUBLIC_KEY";

/* ======================= */

const sb = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

/* üîé NET BAƒûLANTI TESTƒ∞ */
sb.from("pvp_questions").select("id").then(r => {
  console.log("TEST:", r);
});

/* PvP y√ºkle */
async function loadPvP() {
  const { data, error } = await sb
    .from("pvp_questions")
    .select("*")
    .eq("active", true)
    .limit(1)
    .single();

  if (error || !data) {
    document.getElementById("content").innerHTML =
      "<div class='error'>‚ùå PvP sorusu bulunamadƒ±</div>";
    console.error(error);
    return;
  }

  document.getElementById("content").innerHTML = `
    <p><b>${data.question}</b></p>
    <button onclick="answer('A')">${data.option_a}</button>
    <button onclick="answer('B')">${data.option_b}</button>
    <button onclick="answer('C')">${data.option_c}</button>
    <button onclick="answer('D')">${data.option_d}</button>
  `;
}

/* ≈ûƒ±k tƒ±klanƒ±nca */
function answer(opt){
  alert("Se√ßtin: " + opt);
}

/* BA≈ûLAT */
loadPvP();
</script>

</body>
</html>
